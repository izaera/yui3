YUI.add("widget-stdmod",function(i,t){var h,e,a,d,o,n,s,S,r,l,g,f,u,_,M,c,C,E;function p(t){}h=i.Lang,e=i.Node,a=i.UA,d=i.Widget,o="fillHeight",n="Node",s="Content",S="contentBox",r="height",l="offsetHeight",g="contentUpdate",f=i.Widget.UI_SRC,p.HEADER="header",p.BODY="body",p.FOOTER="footer",p.AFTER="after",p.BEFORE="before",p.REPLACE="replace",c=(u=p.HEADER)+s,C=(M=p.FOOTER)+s,E=(_=p.BODY)+s,p.ATTRS={headerContent:{value:null},footerContent:{value:null},bodyContent:{value:null},fillHeight:{value:p.BODY,validator:function(t){return this._validateFillHeight(t)}}},p.HTML_PARSER={headerContent:function(t){return this._parseStdModHTML(u)},bodyContent:function(t){return this._parseStdModHTML(_)},footerContent:function(t){return this._parseStdModHTML(M)}},p.SECTION_CLASS_NAMES={header:d.getClassName("hd"),body:d.getClassName("bd"),footer:d.getClassName("ft")},p.TEMPLATES={header:'<div class="'+p.SECTION_CLASS_NAMES[u]+'"></div>',body:'<div class="'+p.SECTION_CLASS_NAMES[_]+'"></div>',footer:'<div class="'+p.SECTION_CLASS_NAMES[M]+'"></div>'},p.prototype={initializer:function(){this._stdModNode=this.get(S),i.before(this._renderUIStdMod,this,"renderUI"),i.before(this._bindUIStdMod,this,"bindUI"),i.before(this._syncUIStdMod,this,"syncUI")},_syncUIStdMod:function(){var t=this._stdModParsed;t&&t[c]||this._uiSetStdMod(u,this.get(c)),t&&t[E]||this._uiSetStdMod(_,this.get(E)),t&&t[C]||this._uiSetStdMod(M,this.get(C)),this._uiSetFillHeight(this.get(o))},_renderUIStdMod:function(){this._stdModNode.addClass(d.getClassName("stdmod")),this._renderStdModSections(),this.after("headerContentChange",this._afterHeaderChange),this.after("bodyContentChange",this._afterBodyChange),this.after("footerContentChange",this._afterFooterChange)},_renderStdModSections:function(){h.isValue(this.get(c))&&this._renderStdMod(u),h.isValue(this.get(E))&&this._renderStdMod(_),h.isValue(this.get(C))&&this._renderStdMod(M)},_bindUIStdMod:function(){this.after("fillHeightChange",this._afterFillHeightChange),this.after("heightChange",this._fillHeight),this.after(g,this._fillHeight)},_afterHeaderChange:function(t){t.src!==f&&this._uiSetStdMod(u,t.newVal,t.stdModPosition)},_afterBodyChange:function(t){t.src!==f&&this._uiSetStdMod(_,t.newVal,t.stdModPosition)},_afterFooterChange:function(t){t.src!==f&&this._uiSetStdMod(M,t.newVal,t.stdModPosition)},_afterFillHeightChange:function(t){this._uiSetFillHeight(t.newVal)},_validateFillHeight:function(t){return!t||t==p.BODY||t==p.HEADER||t==p.FOOTER},_uiSetFillHeight:function(t){var t=this.getStdModNode(t),e=this._currFillNode;e&&t!==e&&e.setStyle(r,""),t&&(this._currFillNode=t),this._fillHeight()},_fillHeight:function(){var t;this.get(o)&&""!=(t=this.get(r))&&"auto"!=t&&this.fillHeight(this.getStdModNode(this.get(o)))},_uiSetStdMod:function(t,e,i){var d;h.isValue(e)?(d=this.getStdModNode(t,!0),this._addStdModContent(d,e,i),this.set(t+s,this._getStdModContent(t),{src:f})):this._eraseStdMod(t),this.fire(g)},_renderStdMod:function(t){var e=this.get(S),i=(i=this._findStdModSection(t))||this._getStdModTemplate(t);return this._insertStdModSection(e,t,i),this[t+n]=i,this[t+n]},_eraseStdMod:function(t){var e=this.getStdModNode(t);e&&(e.remove(!0),delete this[t+n])},_insertStdModSection:function(t,e,i){var d=t.get("firstChild");e!==M&&d?e===u?t.insertBefore(i,d):(e=this[M+n])?t.insertBefore(i,e):t.appendChild(i):t.appendChild(i)},_getStdModTemplate:function(t){return e.create(p.TEMPLATES[t],this._stdModNode.get("ownerDocument"))},_addStdModContent:function(t,e,i){switch(i){case p.BEFORE:i=0;break;case p.AFTER:i=undefined;break;default:i=p.REPLACE}t.insert(e,i)},_getPreciseHeight:function(t){var e=t?t.get(l):0,i="getBoundingClientRect";return e=t&&t.hasMethod(i)&&(i=t.invoke(i))?i.bottom-i.top:e},_findStdModSection:function(t){return this.get(S).one("> ."+p.SECTION_CLASS_NAMES[t])},_parseStdModHTML:function(t){var e=this._findStdModSection(t);return e?(this._stdModParsed||(this._stdModParsed={},i.before(this._applyStdModParsedConfig,this,"_applyParsedConfig")),this._stdModParsed[t+s]=1,e.get("innerHTML")):null},_applyStdModParsedConfig:function(t,e,i){var d=this._stdModParsed;d&&(d[c]=!(c in e)&&c in d,d[E]=!(E in e)&&E in d,d[C]=!(C in e)&&C in d)},_getStdModContent:function(t){return this[t+n]?this[t+n].get("childNodes"):null},setStdModContent:function(t,e,i){this.set(t+s,e,{stdModPosition:i})},getStdModNode:function(t,e){var i=this[t+n]||null;return i=!i&&e?this._renderStdMod(t):i},fillHeight:function(t){var e,i,d,o,n,s,r;if(t){for(o=this.get(S),n=!(e=[this.headerNode,this.bodyNode,this.footerNode]),s=d=0,r=e.length;s<r;s++)(i=e[s])&&(i!==t?d+=this._getPreciseHeight(i):n=!0);n&&((a.ie||a.opera)&&t.set(l,0),o=o.get(l)-parseInt(o.getComputedStyle("paddingTop"),10)-parseInt(o.getComputedStyle("paddingBottom"),10)-parseInt(o.getComputedStyle("borderBottomWidth"),10)-parseInt(o.getComputedStyle("borderTopWidth"),10),h.isNumber(o)&&0<=(o=o-d)&&t.set(l,o))}}},i.WidgetStdMod=p},"@VERSION@",{requires:["base-build","widget"]});