YUI.add("autocomplete-list",function(o,t){var i=o.Lang,s=o.Node,n=o.Array,h=o.UA.ie&&o.UA.ie<7,a="_CLASS_ITEM",l="_CLASS_ITEM_ACTIVE",r="_CLASS_ITEM_HOVER",e="_SELECTOR_ITEM",u="activeItem",c="alwaysShowList",d="circular",_="hoveredItem",g="item",f="list",v="result",m="results",p="visible",I="width",N="select",C=o.Base.create("autocompleteList",o.Widget,[o.AutoCompleteBase,o.WidgetPosition,o.WidgetPositionAlign],{ARIA_TEMPLATE:"<div/>",ITEM_TEMPLATE:"<li/>",LIST_TEMPLATE:"<ul/>",UI_EVENTS:(delete(C=o.merge(o.Node.DOM_EVENTS)).valuechange,delete C.valueChange,C),initializer:function(){var t=this.get("inputNode");t?(this._inputNode=t,this._listEvents=[],this.DEF_PARENT_NODE=t.get("parentNode"),this[a]=this.getClassName(g),this[l]=this.getClassName(g,"active"),this[r]=this.getClassName(g,"hover"),this[e]="."+this[a],this.publish(N,{defaultFn:this._defSelectFn})):o.error("No inputNode specified.")},destructor:function(){for(;this._listEvents.length;)this._listEvents.pop().detach();this._ariaNode&&this._ariaNode.remove().destroy(!0)},bindUI:function(){this._bindInput(),this._bindList()},renderUI:function(){var t=this._createAriaNode(),e=this.get("boundingBox"),i=this.get("contentBox"),s=this._inputNode,n=this._createListNode(),a=s.get("parentNode");s.addClass(this.getClassName("input")).setAttrs({"aria-autocomplete":f,"aria-expanded":!1,"aria-owns":n.get("id")}),a.append(t),h&&e.plug(o.Plugin.Shim),this._ariaNode=t,this._boundingBox=e,this._contentBox=i,this._listNode=n,this._parentNode=a},syncUI:function(){this._syncResults(),this._syncVisibility()},hide:function(){return this.get(c)?this:this.set(p,!1)},selectItem:function(t,e){if(t){if(!t.hasClass(this[a]))return this}else if(!(t=this.get(u)))return this;return this.fire(N,{itemNode:t,originEvent:e||null,result:t.getData(v)}),this},_activateNextItem:function(){var t=this.get(u),t=t?t.next(this[e])||(this.get(d)?null:t):this._getFirstItemNode();return this.set(u,t),this},_activatePrevItem:function(){var t=this.get(u),t=t?t.previous(this[e]):this.get(d)&&this._getLastItemNode();return this.set(u,t||null),this},_add:function(t){var e=[];return n.each(i.isArray(t)?t:[t],function(t){e.push(this._createItemNode(t).setData(v,t))},this),e=o.all(e),this._listNode.append(e.toFrag()),e},_ariaSay:function(t,e){t=this.get("strings."+t);this._ariaNode.set("text",e?i.sub(t,e):t)},_bindInput:function(){var t,e=this._inputNode;null===this.get("align")&&(t=(t=this.get("tokenInput"))&&t.get("boundingBox")||e,this.set("align",{node:t,points:["tl","bl"]}),!this.get(I)&&(t=t.get("offsetWidth"))&&this.set(I,t)),this._listEvents=this._listEvents.concat([e.after("blur",this._afterListInputBlur,this),e.after("focus",this._afterListInputFocus,this)])},_bindList:function(){this._listEvents=this._listEvents.concat([o.one("doc").after("click",this._afterDocClick,this),o.one("win").after("windowresize",this._syncPosition,this),this.after({mouseover:this._afterMouseOver,mouseout:this._afterMouseOut,activeItemChange:this._afterActiveItemChange,alwaysShowListChange:this._afterAlwaysShowListChange,hoveredItemChange:this._afterHoveredItemChange,resultsChange:this._afterResultsChange,visibleChange:this._afterVisibleChange}),this._listNode.delegate("click",this._onItemClick,this[e],this)])},_clear:function(){this.set(u,null),this._set(_,null),this._listNode.get("children").remove(!0)},_createAriaNode:function(){return s.create(this.ARIA_TEMPLATE).addClass(this.getClassName("aria")).setAttrs({"aria-live":"polite",role:"status"})},_createItemNode:function(t){var e=s.create(this.ITEM_TEMPLATE);return e.addClass(this[a]).setAttrs({id:o.stamp(e),role:"option"}).setAttribute("data-text",t.text).append(t.display)},_createListNode:function(){var t=this.get("listNode")||s.create(this.LIST_TEMPLATE);return t.addClass(this.getClassName(f)).setAttrs({id:o.stamp(t),role:"listbox"}),this._set("listNode",t),this.get("contentBox").append(t),t},_getFirstItemNode:function(){return this._listNode.one(this[e])},_getLastItemNode:function(){return this._listNode.one(this[e]+":last-child")},_syncPosition:function(){this._syncUIPosAlign(),this._syncShim()},_syncResults:function(t){t=t||this.get(m),this._clear(),t.length&&(this._add(t),this._ariaSay("items_available")),this._syncPosition(),this.get("activateFirstItem")&&!this.get(u)&&this.set(u,this._getFirstItemNode())},_syncShim:h?function(){var t=this._boundingBox.shim;t&&t.sync()}:function(){},_syncVisibility:function(t){this.get(c)&&this.set(p,t=!0),void 0===t&&(t=this.get(p)),this._inputNode.set("aria-expanded",t),this._boundingBox.set("aria-hidden",!t),t?this._syncPosition():(this.set(u,null),this._set(_,null),this._boundingBox.get("offsetWidth")),7===o.UA.ie&&o.one("body").addClass("yui3-ie7-sucks").removeClass("yui3-ie7-sucks")},_afterActiveItemChange:function(t){var e=this._inputNode,i=t.newVal,t=t.prevVal;t&&t._node&&t.removeClass(this[l]),i?(i.addClass(this[l]),e.set("aria-activedescendant",i.get("id"))):e.removeAttribute("aria-activedescendant"),!this.get("scrollIntoView")||(t=i||e).inRegion(o.DOM.viewportRegion(),!0)&&t.inRegion(this._contentBox,!0)||t.scrollIntoView()},_afterAlwaysShowListChange:function(t){this.set(p,t.newVal||0<this.get(m).length)},_afterDocClick:function(t){var e=this._boundingBox,t=t.target;t===this._inputNode||t===e||t.ancestor("#"+e.get("id"),!0)||this.hide()},_afterHoveredItemChange:function(t){var e=t.newVal,t=t.prevVal;t&&t.removeClass(this[r]),e&&e.addClass(this[r])},_afterListInputBlur:function(){this._listInputFocused=!1,this.get(p)&&!(this._mouseOverList||9===this._lastInputKey&&this.get("tabSelect")&&this.get(u))&&this.hide()},_afterListInputFocus:function(){this._listInputFocused=!0},_afterMouseOver:function(t){t=t.domEvent.target.ancestor(this[e],!0);this._mouseOverList=!0,t&&this._set(_,t)},_afterMouseOut:function(){this._mouseOverList=!1,this._set(_,null)},_afterResultsChange:function(t){this._syncResults(t.newVal),this.get(c)||this.set(p,!!t.newVal.length)},_afterVisibleChange:function(t){
this._syncVisibility(!!t.newVal)},_onItemClick:function(t){var e=t.currentTarget;this.set(u,e),this.selectItem(e,t)},_defSelectFn:function(t){t=t.result.text;this._inputNode.focus(),this._updateValue(t),this._ariaSay("item_selected",{item:t}),this.hide()}},{ATTRS:{activateFirstItem:{value:!1},activeItem:{setter:o.one,value:null},alwaysShowList:{value:!1},circular:{value:!0},hoveredItem:{readOnly:!0,value:null},listNode:{writeOnce:"initOnly",value:null},scrollIntoView:{value:!1},strings:{valueFn:function(){return o.Intl.get("autocomplete-list")}},tabSelect:{value:!0},visible:{value:!1}},CSS_PREFIX:o.ClassNameManager.getClassName("aclist")});o.AutoCompleteList=C,o.AutoComplete=C},"@VERSION@",{lang:["en","es","hu","it"],requires:["autocomplete-base","event-resize","node-screen","selector-css3","shim-plugin","widget","widget-position","widget-position-align"],skinnable:!0});