YUI.add("test",function(r,e){var n,t,s,i;function o(e){this.testObject=e,this.firstChild=null,this.lastChild=null,this.parent=null,this.next=null,this.results=new YUITest.Results,e instanceof YUITest.TestSuite?(this.results.type="testsuite",this.results.name=e.name):e instanceof YUITest.TestCase&&(this.results.type="testcase",this.results.name=e.name)}function a(){YUITest.EventTarget.call(this),this.masterSuite=new YUITest.TestSuite(YUITest.guid("testSuite_")),this._cur=null,this._root=null,this._log=!0,this._waiting=!1,this._running=!1,this._lastResults=null,this._context=null,this._groups=""}function u(e){return e.replace(/[<>"'&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}})}if(YUI.YUITest?r.Test=YUI.YUITest:(YUITest={version:"@VERSION@",guid:function(e){return r.guid(e)}},r.namespace("Test"),YUITest.Object=r.Object,YUITest.Array=r.Array,YUITest.Util={mix:r.mix,JSON:r.JSON},YUITest.EventTarget=function(){this._handlers={}},YUITest.EventTarget.prototype={constructor:YUITest.EventTarget,attach:function(e,t){"undefined"==typeof this._handlers[e]&&(this._handlers[e]=[]),this._handlers[e].push(t)},subscribe:function(e,t){this.attach.apply(this,arguments)},fire:function(e){var t,s,r;if((e="string"==typeof e?{type:e}:e).target||(e.target=this),!e.type)throw new Error("Event object missing 'type' property.");if(this._handlers[e.type]instanceof Array)for(s=0,r=(t=this._handlers[e.type]).length;s<r;s++)t[s].call(this,e)},detach:function(e,t){var s,r,n;if(this._handlers[e]instanceof Array)for(r=0,n=(s=this._handlers[e]).length;r<n;r++)if(s[r]===t){s.splice(r,1);break}},unsubscribe:function(e,t){this.detach.apply(this,arguments)}},YUITest.TestSuite=function(e){if(this.name="",this.items=[],"string"==typeof e)this.name=e;else if(e instanceof Object)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);""!==this.name&&this.name||(this.name=YUITest.guid("testSuite_"))},YUITest.TestSuite.prototype={constructor:YUITest.TestSuite,add:function(e){return(e instanceof YUITest.TestSuite||e instanceof YUITest.TestCase)&&this.items.push(e),this},setUp:function(){},tearDown:function(){}},YUITest.TestCase=function(e){for(var t in this._should={},e)this[t]=e[t];"string"!=typeof this.name&&(this.name=YUITest.guid("testCase_"))},YUITest.TestCase.DEFAULT_WAIT=1e4,YUITest.TestCase._waitTimeout=function(){YUITest.Assert.fail("Timeout: wait() called but resume() never called.")},YUITest.TestCase.prototype={constructor:YUITest.TestCase,callback:function(){return YUITest.TestRunner.callback.apply(YUITest.TestRunner,arguments)},resume:function(e){YUITest.TestRunner.resume(e)},wait:function(e,t){throw t="number"==typeof e?e:"number"==typeof t?t:YUITest.TestCase.DEFAULT_WAIT,"function"!=typeof e&&(e=YUITest.TestCase._waitTimeout),new YUITest.Wait(e,t)},next:function(t,s){var r=this;return s=2<=arguments.length?arguments[1]:undefined,function(){var e=arguments;s===undefined&&(s=this),r.resume(function(){t.apply(s,e)})}},waitFor:function(t,s,e,r){var n,i=this;"function"==typeof t&&"function"==typeof s||i.fail("waitFor() called with invalid parameters."),"number"!=typeof e&&(e=YUITest.TestCase.DEFAULT_WAIT),n=+new Date+e,"number"!=typeof r&&(r=100),i.wait(function(){var e;t.call(i)?s.call(i):(e=+new Date,n<e?YUITest.TestCase._waitTimeout():i.waitFor(t,s,n-e,r))},r)},assert:function(e,t){if(YUITest.Assert._increment(),!e)throw new YUITest.AssertionError(YUITest.Assert._formatMessage(t,"Assertion failed."))},fail:function(e){YUITest.Assert.fail(e)},init:function(){},destroy:function(){},setUp:function(){},tearDown:function(){}},YUITest.TestFormat={JSON:function(e){return YUITest.Util.JSON.stringify(e)},XML:function(e){return'<?xml version="1.0" encoding="UTF-8"?>'+function r(e){var t,s="<"+e.type+' name="'+u(e.name)+'"';if("number"==typeof e.duration&&(s+=' duration="'+e.duration+'"'),"test"==e.type)s+=' result="'+e.result+'" message="'+u(e.message)+'">';else for(t in s+=' passed="'+e.passed+'" failed="'+e.failed+'" ignored="'+e.ignored+'" total="'+e.total+'">',e)!e.hasOwnProperty(t)||!e[t]||"object"!=typeof e[t]||e[t]instanceof Array||(s+=r(e[t]));return s+="</"+e.type+">"}(e)},JUnitXML:function(e){return'<?xml version="1.0" encoding="UTF-8"?>'+function r(e){var t,s="";switch(e.type){case"test":"ignore"!=e.result&&(s='<testcase name="'+u(e.name)+'" time="'+e.duration/1e3+'">',"fail"==e.result&&(s+='<failure message="'+u(e.message)+'"><![CDATA['+e.message+"]]></failure>"),s+="</testcase>");break;case"testcase":for(t in s='<testsuite name="'+u(e.name)+'" tests="'+e.total+'" failures="'+e.failed+'" time="'+e.duration/1e3+'">',e)!e.hasOwnProperty(t)||!e[t]||"object"!=typeof e[t]||e[t]instanceof Array||(s+=r(e[t]));s+="</testsuite>";break;case"testsuite":for(t in e)!e.hasOwnProperty(t)||!e[t]||"object"!=typeof e[t]||e[t]instanceof Array||(s+=r(e[t]));break;case"report":for(t in s="<testsuites>",e)!e.hasOwnProperty(t)||!e[t]||"object"!=typeof e[t]||e[t]instanceof Array||(s+=r(e[t]));s+="</testsuites>"}return s}(e)},TAP:function(e){var r=1;return"1.."+e.total+"\n"+function n(e){var t,s="";switch(e.type){case"test":"ignore"!=e.result?(s="ok "+r+++" - "+e.name,"fail"==e.result&&(s="not "+s+" - "+e.message),s+="\n"):s="#Ignored test "+e.name+"\n";break;case"testcase":for(t in s="#Begin testcase "+e.name+"("+e.failed+" failed of "+e.total+")\n",e)!e.hasOwnProperty(t)||!e[t]||"object"!=typeof e[t]||e[t]instanceof Array||(s+=n(e[t]));s+="#End testcase "+e.name+"\n";break;case"testsuite":for(t in s="#Begin testsuite "+e.name+"("+e.failed+" failed of "+e.total+")\n",e)!e.hasOwnProperty(t)||!e[t]||"object"!=typeof e[t]||e[t]instanceof Array||(s+=n(e[t]));s+="#End testsuite "+e.name+"\n";break;case"report":for(t in e)!e.hasOwnProperty(t)||!e[t]||"object"!=typeof e[t]||e[t]instanceof Array||(s+=n(e[t]))}return s}(e)}},YUITest.Reporter=function(e,t){this.url=e,this.format=t||YUITest.TestFormat.XML,this._fields=new Object,this._form=null,this._iframe=null},
YUITest.Reporter.prototype={constructor:YUITest.Reporter,addField:function(e,t){this._fields[e]=t},clearFields:function(){this._fields=new Object},destroy:function(){this._form&&(this._form.parentNode.removeChild(this._form),this._form=null),this._iframe&&(this._iframe.parentNode.removeChild(this._iframe),this._iframe=null),this._fields=null},report:function(e){var t,s,r;if(!this._form){this._form=document.createElement("form"),this._form.method="post",this._form.style.visibility="hidden",this._form.style.position="absolute",this._form.style.top=0,document.body.appendChild(this._form);try{this._iframe=document.createElement('<iframe name="yuiTestTarget" />')}catch(n){this._iframe=document.createElement("iframe"),this._iframe.name="yuiTestTarget"}this._iframe.src="javascript:false",this._iframe.style.visibility="hidden",this._iframe.style.position="absolute",this._iframe.style.top=0,document.body.appendChild(this._iframe),this._form.target="yuiTestTarget"}for(this._form.action=this.url;this._form.hasChildNodes();)this._form.removeChild(this._form.lastChild);for(t in this._fields.results=this.format(e),this._fields.useragent=navigator.userAgent,this._fields.timestamp=(new Date).toLocaleString(),this._fields)s=this._fields[t],this._fields.hasOwnProperty(t)&&"function"!=typeof s&&((r=document.createElement("input")).type="hidden",r.name=t,r.value=s,this._form.appendChild(r));delete this._fields.results,delete this._fields.useragent,delete this._fields.timestamp,!1!==arguments[1]&&this._form.submit()}},YUITest.TestRunner=(o.prototype={appendChild:function(e){e=new o(e);return null===this.firstChild?this.firstChild=this.lastChild=e:(this.lastChild.next=e,this.lastChild=e),e.parent=this,e}},a.prototype=YUITest.Util.mix(new YUITest.EventTarget,{_ignoreEmpty:!1,constructor:YUITest.TestRunner,TEST_CASE_BEGIN_EVENT:"testcasebegin",TEST_CASE_COMPLETE_EVENT:"testcasecomplete",TEST_SUITE_BEGIN_EVENT:"testsuitebegin",TEST_SUITE_COMPLETE_EVENT:"testsuitecomplete",TEST_PASS_EVENT:"pass",TEST_FAIL_EVENT:"fail",ERROR_EVENT:"error",TEST_IGNORE_EVENT:"ignore",COMPLETE_EVENT:"complete",BEGIN_EVENT:"begin",_addTestCaseToTestTree:function(e,t){var s,r=e.appendChild(t);for(s in t)(0===s.indexOf("test")||-1<s.indexOf(" "))&&"function"==typeof t[s]&&r.appendChild(s)},_addTestSuiteToTestTree:function(e,t){for(var s=e.appendChild(t),r=0;r<t.items.length;r++)t.items[r]instanceof YUITest.TestSuite?this._addTestSuiteToTestTree(s,t.items[r]):t.items[r]instanceof YUITest.TestCase&&this._addTestCaseToTestTree(s,t.items[r])},_buildTestTree:function(){this._root=new o(this.masterSuite);for(var e=0;e<this.masterSuite.items.length;e++)this.masterSuite.items[e]instanceof YUITest.TestSuite?this._addTestSuiteToTestTree(this._root,this.masterSuite.items[e]):this.masterSuite.items[e]instanceof YUITest.TestCase&&this._addTestCaseToTestTree(this._root,this.masterSuite.items[e])},_handleTestObjectComplete:function(e){var t;e&&"object"==typeof e.testObject&&((t=e.parent)&&(t.results.include(e.results),t.results[e.testObject.name]=e.results),e.testObject instanceof YUITest.TestSuite?(this._execNonTestMethod(e,"tearDown",!1),e.results.duration=new Date-e._start,this.fire({type:this.TEST_SUITE_COMPLETE_EVENT,testSuite:e.testObject,results:e.results})):e.testObject instanceof YUITest.TestCase&&(this._execNonTestMethod(e,"destroy",!1),e.results.duration=new Date-e._start,this.fire({type:this.TEST_CASE_COMPLETE_EVENT,testCase:e.testObject,results:e.results})))},_next:function(){if(null===this._cur)this._cur=this._root;else if(this._cur.firstChild)this._cur=this._cur.firstChild;else if(this._cur.next)this._cur=this._cur.next;else{for(;this._cur&&!this._cur.next&&this._cur!==this._root;)this._handleTestObjectComplete(this._cur),this._cur=this._cur.parent;this._handleTestObjectComplete(this._cur),this._cur==this._root?(this._cur.results.type="report",this._cur.results.timestamp=(new Date).toLocaleString(),this._cur.results.duration=new Date-this._cur._start,this._lastResults=this._cur.results,this._running=!1,this.fire({type:this.COMPLETE_EVENT,results:this._lastResults}),this._cur=null):this._cur&&(this._cur=this._cur.next)}return this._cur},_execNonTestMethod:function(e,t,s){var r=e.testObject,n={type:this.ERROR_EVENT};try{if(s&&r["async:"+t])return r["async:"+t](this._context),!0;r[t](this._context)}catch(i){e.results.errors++,n.error=i,n.methodName=t,r instanceof YUITest.TestCase?n.testCase=r:n.testSuite=testSuite,this.fire(n)}return!1},_run:function(){var e,t=this._next();if(null!==t)if(this._running=!0,this._lastResult=null,"object"==typeof(e=t.testObject)&&null!==e){if(e instanceof YUITest.TestSuite)this.fire({type:this.TEST_SUITE_BEGIN_EVENT,testSuite:e}),t._start=new Date,this._execNonTestMethod(t,"setUp",!1);else if(e instanceof YUITest.TestCase&&(this.fire({type:this.TEST_CASE_BEGIN_EVENT,testCase:e}),t._start=new Date,this._execNonTestMethod(t,"init",!0)))return;"undefined"!=typeof setTimeout?setTimeout(function(){YUITest.TestRunner._run()},0):this._run()}else this._runTest(t)},_resumeTest:function(e){var t,s,r,n,i,o,a=this._cur;if(this._waiting=!1,a){t=a.testObject,(s=a.parent.testObject).__yui_wait&&(clearTimeout(s.__yui_wait),delete s.__yui_wait),r=0===t.indexOf("fail:")||(s._should.fail||{})[t],n=(s._should.error||{})[t],i=!1,o=null;try{if(e.call(s,this._context),0==YUITest.Assert._getCount()&&!this._ignoreEmpty)throw new YUITest.AssertionError("Test has no asserts.");r?(o=new YUITest.ShouldFail,i=!0):n&&(o=new YUITest.ShouldError,i=!0)}catch(u){if(s.__yui_wait&&(clearTimeout(s.__yui_wait),delete s.__yui_wait),u instanceof YUITest.AssertionError)r||(o=u,i=!0);else{if(u instanceof YUITest.Wait){if("function"==typeof u.segment&&"number"==typeof u.delay){if("undefined"==typeof setTimeout)throw new Error("Asynchronous tests not supported in this environment.");s.__yui_wait=setTimeout(function(){YUITest.TestRunner._resumeTest(u.segment)},u.delay),this._waiting=!0}return}n?"string"==typeof n?u.message!=n&&(
o=new YUITest.UnexpectedError(u),i=!0):"function"==typeof n?u instanceof n||(o=new YUITest.UnexpectedError(u),i=!0):"object"!=typeof n||null===n||u instanceof n.constructor&&u.message==n.message||(o=new YUITest.UnexpectedError(u),i=!0):(o=new YUITest.UnexpectedError(u),i=!0)}}i?this.fire({type:this.TEST_FAIL_EVENT,testCase:s,testName:t,error:o}):this.fire({type:this.TEST_PASS_EVENT,testCase:s,testName:t}),this._execNonTestMethod(a.parent,"tearDown",!1),YUITest.Assert._reset(),e=new Date-a._start,a.parent.results[t]={result:i?"fail":"pass",message:o?o.getMessage():"Test passed",type:"test",name:t,duration:e},i?a.parent.results.failed++:a.parent.results.passed++,a.parent.results.total++,"undefined"!=typeof setTimeout?setTimeout(function(){YUITest.TestRunner._run()},0):this._run()}},_handleError:function(e){if(!this._waiting)throw e;this._resumeTest(function(){throw e})},_runTest:function(e){var t=e.testObject,s=e.parent.testObject,r=s[t];0===t.indexOf("ignore:")||!function(e,t){if(!t.length)return 1;if(e)for(var s=0,r=e.length;s<r;s++)if(-1<t.indexOf(","+e[s]+","))return 1}(s.groups,this._groups)||(s._should.ignore||{})[t]?(e.parent.results[t]={result:"ignore",message:"Test ignored",type:"test",name:0===t.indexOf("ignore:")?t.substring(7):t},e.parent.results.ignored++,e.parent.results.total++,this.fire({type:this.TEST_IGNORE_EVENT,testCase:s,testName:t}),"undefined"!=typeof setTimeout?setTimeout(function(){YUITest.TestRunner._run()},0):this._run()):(e._start=new Date,this._execNonTestMethod(e.parent,"setUp",!1),this._resumeTest(r))},getName:function(){return this.masterSuite.name},setName:function(e){this.masterSuite.name=e},add:function(e){return this.masterSuite.add(e),this},clear:function(){this.masterSuite=new YUITest.TestSuite(YUITest.guid("testSuite_"))},isWaiting:function(){return this._waiting},isRunning:function(){return this._running},getResults:function(e){return!this._running&&this._lastResults?"function"==typeof e?e(this._lastResults):this._lastResults:null},getCoverage:function(e){var t=null;return"object"==typeof _yuitest_coverage&&(t=_yuitest_coverage),"object"==typeof __coverage__&&(t=__coverage__),this._running||"object"!=typeof t?null:"function"==typeof e?e(t):t},callback:function(){var t=arguments,s=this._context,r=this;return function(){for(var e=0;e<arguments.length;e++)s[t[e]]=arguments[e];r._run()}},resume:function(e){if(!this._waiting)throw new Error("resume() called without wait().");this._resumeTest(e||function(){})},run:function(e){e=e||{};var t=YUITest.TestRunner;!e.oldMode&&1==this.masterSuite.items.length&&this.masterSuite.items[0]instanceof YUITest.TestSuite&&(this.masterSuite=this.masterSuite.items[0]),t._groups=e.groups instanceof Array?","+e.groups.join(",")+",":"",t._buildTestTree(),t._context={},t._root._start=new Date,t.fire(t.BEGIN_EVENT),t._run()}}),new a),YUITest.ArrayAssert={_indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var s=0;s<e.length;s++)if(e[s]===t)return s;return-1},_some:function(e,t){if(e.some)return e.some(t);for(var s=0;s<e.length;s++)if(t(e[s]))return!0;return!1},contains:function(e,t,s){YUITest.Assert._increment(),-1==this._indexOf(t,e)&&YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Value "+e+" ("+typeof e+") not found in array ["+t+"]."))},containsItems:function(e,t,s){YUITest.Assert._increment();for(var r=0;r<e.length;r++)-1==this._indexOf(t,e[r])&&YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Value "+e[r]+" ("+typeof e[r]+") not found in array ["+t+"]."))},containsMatch:function(e,t,s){if(YUITest.Assert._increment(),"function"!=typeof e)throw new TypeError("ArrayAssert.containsMatch(): First argument must be a function.");this._some(t,e)||YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"No match found in array ["+t+"]."))},doesNotContain:function(e,t,s){YUITest.Assert._increment(),-1<this._indexOf(t,e)&&YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Value found in array ["+t+"]."))},doesNotContainItems:function(e,t,s){YUITest.Assert._increment();for(var r=0;r<e.length;r++)-1<this._indexOf(t,e[r])&&YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Value found in array ["+t+"]."))},doesNotContainMatch:function(e,t,s){if(YUITest.Assert._increment(),"function"!=typeof e)throw new TypeError("ArrayAssert.doesNotContainMatch(): First argument must be a function.");this._some(t,e)&&YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Value found in array ["+t+"]."))},indexOf:function(e,t,s,r){YUITest.Assert._increment();for(var n=0;n<t.length;n++)if(t[n]===e)return void(s!=n&&YUITest.Assert.fail(YUITest.Assert._formatMessage(r,"Value exists at index "+n+" but should be at index "+s+".")));YUITest.Assert.fail(YUITest.Assert._formatMessage(r,"Value doesn't exist in array ["+t+"]."))},itemsAreEqual:function(e,t,s){YUITest.Assert._increment(),"object"==typeof e&&"object"==typeof t||YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Value should be an array.")),e.length!=t.length&&YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Array should have a length of "+e.length+" but has a length of "+t.length+"."));for(var r=0;r<e.length;r++)if(e[r]!=t[r])throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(s,"Values in position "+r+" are not equal."),e[r],t[r])},itemsAreEquivalent:function(e,t,s,r){if(YUITest.Assert._increment(),"function"!=typeof s)throw new TypeError("ArrayAssert.itemsAreEquivalent(): Third argument must be a function.");e.length!=t.length&&YUITest.Assert.fail(YUITest.Assert._formatMessage(r,"Array should have a length of "+e.length+" but has a length of "+t.length));for(var n=0;n<e.length;n++)if(!s(e[n],t[n]))throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(r,"Values in position "+n+" are not equivalent."),e[n],t[n])},isEmpty:function(e,t){YUITest.Assert._increment(),0<e.length&&YUITest.Assert.fail(YUITest.Assert._formatMessage(t,"Array should be empty."))},isNotEmpty:function(e,t){YUITest.Assert._increment(),0===e.length&&YUITest.Assert.fail(
YUITest.Assert._formatMessage(t,"Array should not be empty."))},itemsAreSame:function(e,t,s){YUITest.Assert._increment(),e.length!=t.length&&YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Array should have a length of "+e.length+" but has a length of "+t.length));for(var r=0;r<e.length;r++)if(e[r]!==t[r])throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(s,"Values in position "+r+" are not the same."),e[r],t[r])},lastIndexOf:function(e,t,s,r){for(var n=t.length;0<=n;n--)if(t[n]===e)return void(s!=n&&YUITest.Assert.fail(YUITest.Assert._formatMessage(r,"Value exists at index "+n+" but should be at index "+s+".")));YUITest.Assert.fail(YUITest.Assert._formatMessage(r,"Value doesn't exist in array."))},isUnique:function(e,t,s){if(YUITest.Assert._increment(),!r.Lang.isArray(e))throw new TypeError("ArrayAssert.isUnique(): First argument must be an array");if(r.Lang.isValue(t)&&!r.Lang.isFunction(t))throw new TypeError("ArrayAssert.isUnique(): Second argument must be a function");r.Array.unique(e,t).length<e.length&&(s=YUITest.Assert._formatMessage(s,"Array contains duplicate(s)"),YUITest.Assert.fail(s))}},YUITest.Assert={_asserts:0,_formatMessage:function(e,t){return"string"==typeof e&&0<e.length?e.replace("{message}",t):t},_getCount:function(){return this._asserts},_increment:function(){this._asserts++},_reset:function(){this._asserts=0},fail:function(e){throw new YUITest.AssertionError(YUITest.Assert._formatMessage(e,"Test force-failed."))},pass:function(e){YUITest.Assert._increment()},areEqual:function(e,t,s){if(YUITest.Assert._increment(),e!=t)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(s,"Values should be equal."),e,t)},areNotEqual:function(e,t,s){if(YUITest.Assert._increment(),e==t)throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(s,"Values should not be equal."),e)},areNotSame:function(e,t,s){if(YUITest.Assert._increment(),e===t)throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(s,"Values should not be the same."),e)},areSame:function(e,t,s){if(YUITest.Assert._increment(),e!==t)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(s,"Values should be the same."),e,t)},isFalse:function(e,t){if(YUITest.Assert._increment(),!1!==e)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(t,"Value should be false."),!1,e)},isTrue:function(e,t){if(YUITest.Assert._increment(),!0!==e)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(t,"Value should be true."),!0,e)},isNaN:function(e,t){if(YUITest.Assert._increment(),!isNaN(e))throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(t,"Value should be NaN."),NaN,e)},isNotNaN:function(e,t){if(YUITest.Assert._increment(),isNaN(e))throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(t,"Values should not be NaN."),NaN)},isNotNull:function(e,t){if(YUITest.Assert._increment(),null===e)throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(t,"Values should not be null."),null)},isNotUndefined:function(e,t){if(YUITest.Assert._increment(),void 0===e)throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(t,"Value should not be undefined."),undefined)},isNull:function(e,t){if(YUITest.Assert._increment(),null!==e)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(t,"Value should be null."),null,e)},isUndefined:function(e,t){if(YUITest.Assert._increment(),void 0!==e)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(t,"Value should be undefined."),undefined,e)},isArray:function(e,t){YUITest.Assert._increment();if(Array.isArray?!Array.isArray(e):"[object Array]"!=Object.prototype.toString.call(e))throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(t,"Value should be an array."),e)},isBoolean:function(e,t){if(YUITest.Assert._increment(),"boolean"!=typeof e)throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(t,"Value should be a Boolean."),e)},isFunction:function(e,t){if(YUITest.Assert._increment(),!(e instanceof Function))throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(t,"Value should be a function."),e)},isInstanceOf:function(e,t,s){if(YUITest.Assert._increment(),!(t instanceof e))throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(s,"Value isn't an instance of expected type."),e,t)},isNumber:function(e,t){if(YUITest.Assert._increment(),"number"!=typeof e)throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(t,"Value should be a number."),e)},isObject:function(e,t){if(YUITest.Assert._increment(),!e||"object"!=typeof e&&"function"!=typeof e)throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(t,"Value should be an object."),e)},isString:function(e,t){if(YUITest.Assert._increment(),"string"!=typeof e)throw new YUITest.UnexpectedValue(YUITest.Assert._formatMessage(t,"Value should be a string."),e)},isTypeOf:function(e,t,s){if(YUITest.Assert._increment(),typeof t!=e)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(s,"Value should be of type "+e+"."),e,typeof t)},throwsError:function(e,t,s){YUITest.Assert._increment();var r=!1;try{t()}catch(n){if("string"==typeof e?n.message!=e&&(r=!0):"function"==typeof e?n instanceof e||(r=!0):"object"==typeof e&&null!==e&&n instanceof e.constructor&&n.message==e.message||(r=!0),r)throw new YUITest.UnexpectedError(n);return}throw new YUITest.AssertionError(YUITest.Assert._formatMessage(s,"Error should have been thrown."))}},YUITest.AssertionError=function(e){this.message=e,this.name="Assert Error"},YUITest.AssertionError.prototype={constructor:YUITest.AssertionError,getMessage:function(){return this.message},toString:function(){return this.name+": "+this.getMessage()}},YUITest.ComparisonFailure=function(e,t,s){YUITest.AssertionError.call(this,e),this.expected=t,this.actual=s,this.name="ComparisonFailure"},YUITest.ComparisonFailure.prototype=new YUITest.AssertionError,YUITest.ComparisonFailure.prototype.constructor=YUITest.ComparisonFailure,
YUITest.ComparisonFailure.prototype.getMessage=function(){return this.message+"\nExpected: "+this.expected+" ("+typeof this.expected+")\nActual: "+this.actual+" ("+typeof this.actual+")"},YUITest.CoverageFormat={JSON:function(e){return YUITest.Util.JSON.stringify(e)},XdebugJSON:function(e){for(var t in e)e.hasOwnProperty(t)&&(t,e[t].lines);return YUITest.Util.JSON.stringify(e)}},YUITest.DateAssert={datesAreEqual:function(e,t,s){if(YUITest.Assert._increment(),!(e instanceof Date&&t instanceof Date))throw new TypeError("YUITest.DateAssert.datesAreEqual(): Expected and actual values must be Date objects.");var r="";if(e.getFullYear()!=t.getFullYear()&&(r="Years should be equal."),e.getMonth()!=t.getMonth()&&(r="Months should be equal."),(r=e.getDate()!=t.getDate()?"Days of month should be equal.":r).length)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(s,r),e,t)},timesAreEqual:function(e,t,s){if(YUITest.Assert._increment(),!(e instanceof Date&&t instanceof Date))throw new TypeError("YUITest.DateAssert.timesAreEqual(): Expected and actual values must be Date objects.");var r="";if(e.getHours()!=t.getHours()&&(r="Hours should be equal."),e.getMinutes()!=t.getMinutes()&&(r="Minutes should be equal."),(r=e.getSeconds()!=t.getSeconds()?"Seconds should be equal.":r).length)throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(s,r),e,t)}},YUITest.Mock=function(e){var t,s;e=e||{};try{function r(){}r.prototype=e,t=new r}catch(n){t={}}for(s in e)e.hasOwnProperty(s)&&"function"==typeof e[s]&&(t[s]=function(e){return function(){YUITest.Assert.fail("Method "+e+"() was called but was not expected to be.")}}(s));return t},YUITest.Mock.expect=function(e,r){if(e.__expectations||(e.__expectations={}),r.method){var n,t,i=r.method,o=r.args||[],a=r.returns,s="number"==typeof r.callCount?r.callCount:1,u=r.error,l=r.run||function(){};for((e.__expectations[i]=r).callCount=s,t=r.actualCallCount=0;t<o.length;t++)o[t]instanceof YUITest.Mock.Value||(o[t]=YUITest.Mock.Value(YUITest.Assert.areSame,[o[t]],"Argument "+t+" of "+i+"() is incorrect."));e[i]=0<s?function(){try{r.actualCallCount++,YUITest.Assert.areEqual(o.length,arguments.length,"Method "+i+"() passed incorrect number of arguments.");for(var e=0,t=o.length;e<t;e++)o[e].verify(arguments[e]);if(n=l.apply(this,arguments),u)throw u}catch(s){YUITest.TestRunner._handleError(s)}return r.hasOwnProperty("returns")?a:n}:function(){try{YUITest.Assert.fail("Method "+i+"() should not have been called.")}catch(e){YUITest.TestRunner._handleError(e)}}}else r.property&&(e.__expectations[r.property]=r)},YUITest.Mock.verify=function(e){var t,s;try{for(t in e.__expectations)e.__expectations.hasOwnProperty(t)&&((s=e.__expectations[t]).method?YUITest.Assert.areEqual(s.callCount,s.actualCallCount,"Method "+s.method+"() wasn't called the expected number of times."):s.property&&YUITest.Assert.areEqual(s.value,e[s.property],"Property "+s.property+" wasn't set to the correct value."))}catch(r){YUITest.TestRunner._handleError(r)}},YUITest.Mock.Value=function(s,r,n){if(!(this instanceof YUITest.Mock.Value))return new YUITest.Mock.Value(s,r,n);this.verify=function(e){var t=[].concat(r||[]);t.push(e),t.push(n),s.apply(null,t)}},YUITest.Mock.Value.Any=YUITest.Mock.Value(function(){}),YUITest.Mock.Value.Boolean=YUITest.Mock.Value(YUITest.Assert.isBoolean),YUITest.Mock.Value.Number=YUITest.Mock.Value(YUITest.Assert.isNumber),YUITest.Mock.Value.String=YUITest.Mock.Value(YUITest.Assert.isString),YUITest.Mock.Value.Object=YUITest.Mock.Value(YUITest.Assert.isObject),YUITest.Mock.Value.Function=YUITest.Mock.Value(YUITest.Assert.isFunction),YUITest.ObjectAssert={areEqual:function(e,t,s){var r,n,i;for(i in YUITest.Assert._increment(),r=YUITest.Object.keys(e),n=YUITest.Object.keys(t),r.length!=n.length&&YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Object should have "+r.length+" keys but has "+n.length)),e)if(e.hasOwnProperty(i)&&e[i]!=t[i])throw new YUITest.ComparisonFailure(YUITest.Assert._formatMessage(s,"Values should be equal for property "+i),e[i],t[i])},hasKey:function(e,t,s){YUITest.ObjectAssert.ownsOrInheritsKey(e,t,s)},hasKeys:function(e,t,s){YUITest.ObjectAssert.ownsOrInheritsKeys(e,t,s)},inheritsKey:function(e,t,s){YUITest.Assert._increment(),e in t&&!t.hasOwnProperty(e)||YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Property '"+e+"' not found on object instance."))},inheritsKeys:function(e,t,s){YUITest.Assert._increment();for(var r=0;r<e.length;r++)propertyName in t&&!t.hasOwnProperty(e[r])||YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Property '"+e[r]+"' not found on object instance."))},ownsKey:function(e,t,s){YUITest.Assert._increment(),t.hasOwnProperty(e)||YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Property '"+e+"' not found on object instance."))},ownsKeys:function(e,t,s){YUITest.Assert._increment();for(var r=0;r<e.length;r++)t.hasOwnProperty(e[r])||YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Property '"+e[r]+"' not found on object instance."))},ownsNoKeys:function(e,t){YUITest.Assert._increment();e=YUITest.Object.keys(e).length;0!==e&&YUITest.Assert.fail(YUITest.Assert._formatMessage(t,"Object owns "+e+" properties but should own none."))},ownsOrInheritsKey:function(e,t,s){YUITest.Assert._increment(),e in t||YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Property '"+e+"' not found on object."))},ownsOrInheritsKeys:function(e,t,s){YUITest.Assert._increment();for(var r=0;r<e.length;r++)e[r]in t||YUITest.Assert.fail(YUITest.Assert._formatMessage(s,"Property '"+e[r]+"' not found on object."))}},YUITest.Results=function(e){this.name=e,this.passed=0,this.failed=0,this.errors=0,this.ignored=0,this.total=0,this.duration=0},YUITest.Results.prototype.include=function(e){this.passed+=e.passed,this.failed+=e.failed,this.ignored+=e.ignored,this.total+=e.total,this.errors+=e.errors},YUITest.ShouldError=function(e){YUITest.AssertionError.call(this,e||"This test should have thrown an error but didn't."),
this.name="ShouldError"},YUITest.ShouldError.prototype=new YUITest.AssertionError,YUITest.ShouldError.prototype.constructor=YUITest.ShouldError,YUITest.ShouldFail=function(e){YUITest.AssertionError.call(this,e||"This test should fail but didn't."),this.name="ShouldFail"},YUITest.ShouldFail.prototype=new YUITest.AssertionError,YUITest.ShouldFail.prototype.constructor=YUITest.ShouldFail,YUITest.UnexpectedError=function(e){YUITest.AssertionError.call(this,"Unexpected error: "+e.message),this.cause=e,this.name="UnexpectedError",this.stack=e.stack},YUITest.UnexpectedError.prototype=new YUITest.AssertionError,YUITest.UnexpectedError.prototype.constructor=YUITest.UnexpectedError,YUITest.UnexpectedValue=function(e,t){YUITest.AssertionError.call(this,e),this.unexpected=t,this.name="UnexpectedValue"},YUITest.UnexpectedValue.prototype=new YUITest.AssertionError,YUITest.UnexpectedValue.prototype.constructor=YUITest.UnexpectedValue,YUITest.UnexpectedValue.prototype.getMessage=function(){return this.message+"\nUnexpected: "+this.unexpected+" ("+typeof this.unexpected+") "},YUITest.Wait=function(e,t){this.segment="function"==typeof e?e:null,this.delay="number"==typeof t?t:0},r.Test=YUITest,r.Object.each(YUITest,function(e,t){t=t.replace("Test","");r.Test[t]=e})),r.Assert=YUITest.Assert,r.Assert.Error=r.Test.AssertionError,r.Assert.ComparisonFailure=r.Test.ComparisonFailure,r.Assert.UnexpectedValue=r.Test.UnexpectedValue,r.Mock=r.Test.Mock,r.ObjectAssert=r.Test.ObjectAssert,r.ArrayAssert=r.Test.ArrayAssert,r.DateAssert=r.Test.DateAssert,r.Test.ResultsFormat=r.Test.TestFormat,n=r.Test.ArrayAssert.itemsAreEqual,r.Test.ArrayAssert.itemsAreEqual=function(e,t,s){return n.call(this,r.Array(e),r.Array(t),s)},r.assert=function(e,t){if(r.Assert._increment(),!e)throw new r.Assert.Error(r.Assert._formatMessage(t,"Assertion failed."))},r.fail=r.Assert.fail,r.Test.Runner.once=r.Test.Runner.subscribe,r.Test.Runner.disableLogging=function(){r.Test.Runner._log=!1},r.Test.Runner.enableLogging=function(){r.Test.Runner._log=!0},r.Test.Runner._ignoreEmpty=!0,r.Test.Runner._log=!0,r.Test.Runner.on=r.Test.Runner.attach,!YUI.YUITest)for(s in r.config.win&&(r.config.win.YUITest=YUITest),YUI.YUITest=r.Test,t=function(e){var t="",s="";switch(e.type){case this.BEGIN_EVENT:t="Testing began at "+(new Date).toString()+".",s="info";break;case this.COMPLETE_EVENT:t=r.Lang.sub("Testing completed at "+(new Date).toString()+".\nPassed:{passed} Failed:{failed} Total:{total} ({ignored} ignored)",e.results),s="info";break;case this.TEST_FAIL_EVENT:t=e.testName+": failed.\n"+e.error.getMessage(),s="fail";break;case this.TEST_IGNORE_EVENT:t=e.testName+": ignored.",s="ignore";break;case this.TEST_PASS_EVENT:t=e.testName+": passed.",s="pass";break;case this.TEST_SUITE_BEGIN_EVENT:t='Test suite "'+e.testSuite.name+'" started.',s="info";break;case this.TEST_SUITE_COMPLETE_EVENT:t=r.Lang.sub('Test suite "'+e.testSuite.name+'" completed.\nPassed:{passed} Failed:{failed} Total:{total} ({ignored} ignored)',e.results),s="info";break;case this.TEST_CASE_BEGIN_EVENT:t='Test case "'+e.testCase.name+'" started.',s="info";break;case this.TEST_CASE_COMPLETE_EVENT:t=r.Lang.sub('Test case "'+e.testCase.name+'" completed.\nPassed:{passed} Failed:{failed} Total:{total} ({ignored} ignored)',e.results),s="info";break;default:t="Unexpected event "+e.type,s="info"}r.Test.Runner._log&&r.log(t,s,"TestRunner")},r.Test.Runner)i=r.Test.Runner[s],-1<s.indexOf("_EVENT")&&r.Test.Runner.subscribe(i,t)},"@VERSION@",{requires:["event-simulate","event-custom","json-stringify"]});